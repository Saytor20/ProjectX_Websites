{
  "$schema": "http://json-schema.org/draft-07/schema#",
  "$id": "https://restaurant-kit.dev/schemas/skin-tokens.json",
  "title": "Skin Tokens Schema",
  "description": "Schema for validating design tokens in restaurant website skins",
  "type": "object",
  "required": ["meta", "colors", "typography", "spacing"],
  "additionalProperties": false,
  "properties": {
    "$schema": {
      "type": "string",
      "description": "JSON Schema reference"
    },
    "meta": {
      "type": "object",
      "description": "Skin metadata and information",
      "required": ["name", "version"],
      "properties": {
        "name": {
          "type": "string",
          "description": "Human-readable skin name",
          "minLength": 1,
          "maxLength": 50
        },
        "description": {
          "type": "string",
          "description": "Brief description of the skin",
          "maxLength": 200
        },
        "version": {
          "type": "string",
          "description": "Semantic version (x.y.z)",
          "pattern": "^\\d+\\.\\d+\\.\\d+(-[a-zA-Z0-9.-]+)?$"
        },
        "author": {
          "type": "string",
          "description": "Skin author/creator",
          "maxLength": 100
        },
        "tags": {
          "type": "array",
          "description": "Tags for categorizing the skin",
          "items": {
            "type": "string",
            "maxLength": 20
          },
          "maxItems": 10
        },
        "preview": {
          "type": "string",
          "description": "Preview image filename",
          "pattern": "\\.(jpg|jpeg|png|webp)$"
        },
        "created": {
          "type": "string",
          "format": "date-time",
          "description": "Creation timestamp"
        },
        "updated": {
          "type": "string",
          "format": "date-time",
          "description": "Last update timestamp"
        }
      }
    },
    "colors": {
      "type": "object",
      "description": "Color palette definition",
      "required": ["primary", "background", "text"],
      "properties": {
        "primary": {
          "$ref": "#/definitions/color",
          "description": "Primary brand color"
        },
        "primaryHover": {
          "$ref": "#/definitions/color",
          "description": "Primary color hover state"
        },
        "secondary": {
          "$ref": "#/definitions/color",
          "description": "Secondary color"
        },
        "accent": {
          "$ref": "#/definitions/color",
          "description": "Accent color for highlights"
        },
        "background": {
          "$ref": "#/definitions/color",
          "description": "Main background color"
        },
        "surface": {
          "$ref": "#/definitions/color",
          "description": "Surface color for cards/panels"
        },
        "text": {
          "type": "object",
          "description": "Text colors",
          "required": ["primary"],
          "properties": {
            "primary": { "$ref": "#/definitions/color" },
            "secondary": { "$ref": "#/definitions/color" },
            "muted": { "$ref": "#/definitions/color" },
            "inverse": { "$ref": "#/definitions/color" }
          }
        },
        "border": {
          "type": "object",
          "description": "Border colors",
          "properties": {
            "default": { "$ref": "#/definitions/color" },
            "light": { "$ref": "#/definitions/color" },
            "dark": { "$ref": "#/definitions/color" }
          }
        },
        "status": {
          "type": "object",
          "description": "Status/state colors",
          "properties": {
            "success": { "$ref": "#/definitions/color" },
            "warning": { "$ref": "#/definitions/color" },
            "error": { "$ref": "#/definitions/color" },
            "info": { "$ref": "#/definitions/color" }
          }
        }
      }
    },
    "typography": {
      "type": "object",
      "description": "Typography system",
      "required": ["fontFamily", "fontSize"],
      "properties": {
        "fontFamily": {
          "type": "object",
          "description": "Font family stacks",
          "required": ["sans"],
          "properties": {
            "sans": { "$ref": "#/definitions/fontStack" },
            "serif": { "$ref": "#/definitions/fontStack" },
            "mono": { "$ref": "#/definitions/fontStack" }
          }
        },
        "fontSize": {
          "type": "object",
          "description": "Font size scale",
          "required": ["base"],
          "patternProperties": {
            "^(xs|sm|base|lg|xl|2xl|3xl|4xl|5xl|6xl)$": {
              "$ref": "#/definitions/size"
            }
          }
        },
        "fontWeight": {
          "type": "object",
          "description": "Font weight scale",
          "patternProperties": {
            "^(light|normal|medium|semibold|bold|extrabold)$": {
              "type": "integer",
              "minimum": 100,
              "maximum": 900,
              "multipleOf": 100
            }
          }
        },
        "lineHeight": {
          "type": "object",
          "description": "Line height values",
          "patternProperties": {
            "^(tight|normal|relaxed)$": {
              "type": "string",
              "pattern": "^\\d+(\\.\\d+)?$"
            }
          }
        }
      }
    },
    "spacing": {
      "type": "object",
      "description": "Spacing scale",
      "required": ["md"],
      "patternProperties": {
        "^(xs|sm|md|lg|xl|2xl|3xl|4xl|5xl)$": {
          "$ref": "#/definitions/size"
        }
      }
    },
    "borderRadius": {
      "type": "object",
      "description": "Border radius scale",
      "patternProperties": {
        "^(none|sm|md|lg|xl|2xl|full)$": {
          "oneOf": [
            { "$ref": "#/definitions/size" },
            { "type": "string", "const": "0" },
            { "type": "string", "const": "9999px" }
          ]
        }
      }
    },
    "shadows": {
      "type": "object",
      "description": "Box shadow definitions",
      "patternProperties": {
        "^(sm|md|lg|xl|2xl|inner)$": {
          "type": "string",
          "description": "CSS box-shadow value"
        }
      }
    },
    "breakpoints": {
      "type": "object",
      "description": "Responsive breakpoints",
      "patternProperties": {
        "^(sm|md|lg|xl|2xl)$": {
          "type": "string",
          "pattern": "^\\d+px$",
          "description": "Breakpoint value in pixels"
        }
      }
    },
    "animation": {
      "type": "object",
      "description": "Animation settings",
      "properties": {
        "transition": {
          "type": "object",
          "description": "Transition durations",
          "patternProperties": {
            "^(fast|normal|slow)$": {
              "type": "string",
              "pattern": "^\\d+ms$"
            }
          }
        },
        "easing": {
          "type": "object",
          "description": "Easing functions",
          "patternProperties": {
            "^(linear|out|in|inOut)$": {
              "type": "string",
              "description": "CSS timing function"
            }
          }
        }
      }
    },
    "components": {
      "type": "object",
      "description": "Component-specific tokens",
      "properties": {
        "navbar": {
          "type": "object",
          "description": "Navbar component tokens",
          "properties": {
            "height": { "$ref": "#/definitions/size" },
            "padding": { "type": "string" },
            "background": { "type": "string" },
            "backdropBlur": { "type": "string" },
            "borderBottom": { "type": "string" }
          }
        },
        "hero": {
          "type": "object",
          "description": "Hero component tokens",
          "properties": {
            "minHeight": { "type": "string" },
            "padding": { "type": "string" },
            "titleSize": { "$ref": "#/definitions/size" },
            "subtitleSize": { "$ref": "#/definitions/size" }
          }
        },
        "card": {
          "type": "object",
          "description": "Card component tokens",
          "properties": {
            "padding": { "type": "string" },
            "borderRadius": { "$ref": "#/definitions/size" },
            "background": { "$ref": "#/definitions/color" },
            "shadow": { "type": "string" }
          }
        },
        "button": {
          "type": "object",
          "description": "Button component tokens",
          "properties": {
            "padding": { "type": "string" },
            "borderRadius": { "$ref": "#/definitions/size" },
            "fontWeight": { "type": "integer" },
            "transition": { "type": "string" }
          }
        }
      }
    }
  },
  "definitions": {
    "color": {
      "type": "string",
      "description": "Valid CSS color value",
      "pattern": "^(#([0-9a-fA-F]{3}|[0-9a-fA-F]{6})|rgb\\(\\d{1,3},\\s*\\d{1,3},\\s*\\d{1,3}\\)|rgba\\(\\d{1,3},\\s*\\d{1,3},\\s*\\d{1,3},\\s*[01]?\\.?\\d*\\)|hsl\\(\\d{1,3},\\s*\\d{1,3}%,\\s*\\d{1,3}%\\)|hsla\\(\\d{1,3},\\s*\\d{1,3}%,\\s*\\d{1,3}%,\\s*[01]?\\.?\\d*\\)|[a-zA-Z]+)$"
    },
    "size": {
      "type": "string",
      "description": "Valid CSS size value",
      "pattern": "^\\d+(\\.\\d+)?(px|em|rem|%|vh|vw|ch|ex)$"
    },
    "fontStack": {
      "type": "array",
      "description": "Font family stack",
      "minItems": 1,
      "items": {
        "type": "string",
        "minLength": 1
      }
    }
  }
}
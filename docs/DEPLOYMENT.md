# Deployment Guide

This guide covers deploying restaurant websites generated by the system to production.

## Primary Deployment Method: Vercel (Recommended)

Vercel is the recommended platform for deploying restaurant websites due to:
- **Fast deployment**: Simple CLI-based deployment
- **Automatic HTTPS**: Free SSL certificates
- **Global CDN**: Fast loading worldwide  
- **Custom domains**: Easy domain configuration
- **Zero configuration**: Works perfectly with Next.js static exports

### Prerequisites

1. **Install Vercel CLI**:
   ```bash
   npm install -g vercel
   # or
   pnpm add -g vercel
   # or  
   yarn global add vercel
   ```

2. **Login to Vercel**:
   ```bash
   vercel login
   ```

### Deployment Process

#### Method 1: Using the Deployment Script (Recommended)

1. **Generate a website** (if not already done):
   ```bash
   ./websites
   # Select template and restaurant from the interactive menu
   ```

2. **Deploy using the script**:
   ```bash
   ./scripts/deploy-site.sh <restaurant-name>
   
   # Example:
   ./scripts/deploy-site.sh al_othaim_137466
   ```

The script will:
- Verify the website exists
- Check for Vercel CLI
- Initialize the project on Vercel (first time)
- Deploy to production
- Provide the live URL

#### Method 2: Manual Deployment

1. **Navigate to the generated website directory**:
   ```bash
   cd final_websites/<restaurant-name>
   ```

2. **Deploy to Vercel**:
   ```bash
   vercel --prod
   ```

3. **Follow the prompts** to configure your project

### Deployment Features

- **Automatic builds**: No build step needed (already static)
- **Custom domains**: Add your own domain in Vercel dashboard
- **Analytics**: Built-in performance analytics
- **Previews**: Every deployment gets a unique preview URL
- **Rollbacks**: Easy rollback to previous deployments

## Alternative Deployment Methods

### GitHub Pages

While Vercel is recommended, you can also deploy to GitHub Pages:

1. **Create a new repository** for the website
2. **Copy the generated website** to the repository:
   ```bash
   cp -r final_websites/<restaurant-name>/* /path/to/your-repo/
   ```
3. **Enable GitHub Pages** in repository settings
4. **Set source** to root directory or docs folder

### Netlify

Similar to Vercel, Netlify can host static sites:

1. **Install Netlify CLI**:
   ```bash
   npm install -g netlify-cli
   ```

2. **Deploy**:
   ```bash
   cd final_websites/<restaurant-name>
   netlify deploy --prod
   ```

### Traditional Web Hosting

For traditional web hosts:

1. **Zip the website directory**:
   ```bash
   cd final_websites
   zip -r restaurant-website.zip <restaurant-name>/
   ```

2. **Upload via FTP/SFTP** to your web host
3. **Extract in the web root** directory

## CLI Scripts

### Available Scripts

Located in `Websites_nextjs/scripts/`:

- **`generate-site.sh`** — Generate a website using command line
  ```bash
  ./scripts/generate-site.sh <template> <restaurant.json>
  ```

- **`deploy-site.sh`** — Deploy a generated site to Vercel
  ```bash  
  ./scripts/deploy-site.sh <restaurant-name>
  ```

### Script Examples

```bash
# Generate a website
./scripts/generate-site.sh modern-restaurant al_othaim_137466.json

# Deploy to Vercel
./scripts/deploy-site.sh al_othaim_137466

# Full workflow
./scripts/generate-site.sh minimal-cafe coffee_shop_123.json
./scripts/deploy-site.sh coffee_shop_123
```

## Best Practices

### Before Deployment

1. **Test locally** using the CLI preview server
2. **Check all content** displays correctly
3. **Verify menu items** and prices are accurate
4. **Test on mobile devices**

### Domain Configuration

1. **Purchase a domain** from a domain registrar
2. **Add custom domain** in Vercel dashboard:
   - Go to your project → Settings → Domains
   - Add your domain (e.g., `myrestaurant.com`)
   - Configure DNS records as instructed

3. **Set up redirects** if needed:
   - `www.myrestaurant.com` → `myrestaurant.com`
   - Add in Vercel project settings

### Performance Optimization

Generated websites are automatically optimized:
- **Static files**: No server-side processing
- **Image optimization**: Next.js image optimization
- **Minified assets**: CSS and JS are minified
- **Caching headers**: Automatic browser caching

## Troubleshooting

### Common Deployment Issues

**Vercel CLI not found**:
```bash
npm install -g vercel
vercel login
```

**Build failures**:
- Check that the website was generated successfully
- Ensure all files are present in `final_websites/<restaurant-name>/`

**Domain issues**:
- Verify DNS propagation (can take 24-48 hours)
- Check domain configuration in Vercel dashboard

**Performance issues**:
- Use Vercel Analytics to identify bottlenecks
- Optimize images in the restaurant data

### Getting Help

1. **Vercel Documentation**: https://vercel.com/docs
2. **Check deployment logs** in Vercel dashboard
3. **Test locally** using `python3 -m http.server 8080`

## Monitoring & Analytics

### Vercel Analytics
- **Real User Metrics**: Page load times, Core Web Vitals
- **Usage Statistics**: Page views, unique visitors
- **Performance Scores**: Lighthouse scores over time

Enable in Vercel dashboard → Project → Analytics

### Custom Domain Analytics
- **Google Analytics**: Add tracking code to templates
- **Search Console**: Monitor search performance
- **Performance monitoring**: Use tools like Pingdom or UptimeRobot

